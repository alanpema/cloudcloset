
<div class="item-card" data-controller="items" data-items-target="card">
  <%= cl_image_tag item.photo.key, style: "height: 120px; width:200px;"%>
  <div class="item-infos" data-items-target="infos">
      <p><%= item.name %></p>
      <p><%= item.item_type %></p>
      <p><%= item.fragility %></p>
      <p><%= item.size %></p>
      <p> <%= link_to "🗑️ Delete", dashboard_path(item), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class:"text-decoration-none d-flex justify-content-end text-secondary"%> </p>
      <%= check_box_tag item.id, data: {action: "change->items#cacheItem", "items-target": "checkboxItem"} %>
      <%= @selected_items << item if params[:selected_item] %>
      <button aria-label="Edit item">
        <i class="fa-solid fa-pen fa-xs ml-2" data-action="click->items#displayForm"></i>
      </button>
  </div>
  <%= simple_form_for item, html: {class: "d-none"},
    data: {
    items_target: "form",
    action: "submit->items#update"} do |f| %>
      <%= f.input :name, label:"Name" %>
      <%= f.input :photo, as: :file, label: "Item picture 📷" %>
      <%= f.input :item_type, as: :select, collection: Item::ITEM_TYPE, label:"Type" %>
      <%= f.input :fragility, as: :select, collection: Item::FRAGILITY, label:"Fragility" %>
      <%= f.input :size, as: :select, collection: Item::SIZE, label:"Size" %>
      <%= f.submit class: "btn btn-outline-danger" %>
    <% end %>
</div>
